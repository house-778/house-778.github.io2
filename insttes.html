<!DOCTYPE html>
<html>
  <head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="style.css">
  <head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>House</title>
    <link rel="icon" type="image/x-icon" href="/imges/House-symbol-may-be-unfamiliar-to-users-with-low-computer-literacy.ico">
  </head>
  <script src="chech.js"></script>


<body class = "">
  <div class="navebar">
    <br>
    <button onclick='window.location.href = "games.html";'><span class="material-symbols-outlined">home</span></button>
    <button style = "height: 50px;" onclick='window.location.href = "tc.html";'><span class="material-symbols-outlined">gavel</span></button>
    <button onclick='window.location.href = "report.html";'><span class="material-symbols-outlined">bug_report</span></button>
    <button onclick='window.location.href = "game_list.html";'><span class="material-symbols-outlined">stadia_controller</span></button>
    <button id="popupButton" onclick='window.location.href = "testgames.html";'><span class="material-symbols-outlined"><span class="material-symbols-outlined">code</span></span></button>
    <button onclick="window.location.href ='insttes.html'"><span class="material-symbols-outlined">search_insights</span></button>
    <button id = "gra" style="float: right;" onclick='gra()'><span class="material-symbols-outlined">blur_on</span></button>
    <button id = "dark" style="float: right;" onclick='dark()'><span class="material-symbols-outlined">dark_mode</span></button>
    <button id = "light" style="float: right;" onclick='light()'><span class="material-symbols-outlined">light_mode</span></button>
  </div>
  <hr>
  <h1>GitHub Insights</h1>
  <div id="repoStats"></div>

  <script>
    const { Octokit } = Octokit.core;

    const octokit = new Octokit({
        auth: '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'
    });

    async function fetchRepoStats(owner, repo) {
        try {
            const response = await octokit.request('GET /repos/{owner}/{repo}', {
                owner: owner,
                repo: repo
            });

            return response.data;
        } catch (error) {
            console.error('Error fetching repository statistics:', error);
            throw error;
        }
    }

    async function fetchTrafficData(owner, repo) {
        try {
            const response = await octokit.request('GET /repos/{owner}/{repo}/traffic/views', {
                owner: owner,
                repo: repo,
                headers: {
                    'X-GitHub-Api-Version': '2022-11-28'
                }
            });

            return response.data;
        } catch (error) {
            console.error('Error fetching traffic data:', error);
            throw error;
        }
    }

    async function displayRepoStats() {
        const owner = 'house-778';
        const repo = 'house-778.github.io';

        try {
            const [repoData, trafficData] = await Promise.all([
                fetchRepoStats(owner, repo),
                fetchTrafficData(owner, repo)
            ]);

            const repoStatsElement = document.getElementById('repoStats');
            repoStatsElement.innerHTML = `
                <p>Repository: ${owner}/${repo}</p>
                <p>Stars: ${repoData.stargazers_count}</p>
                <p>Forks: ${repoData.forks_count}</p>
                <p>Watchers: ${repoData.watchers_count}</p>
                <p>Open Issues: ${repoData.open_issues_count}</p>
                <p>Size: ${repoData.size} KB</p>
                <p>Unique Visitors: ${trafficData.uniques}</p>
            `;
        } catch (error) {
            console.error('Error displaying repository statistics:', error);
        }
    }

    window.onload = displayRepoStats;



  </script>
  </body>
  <script src="background.js"></script>
  <script src="stop.js"></script>
</html>
